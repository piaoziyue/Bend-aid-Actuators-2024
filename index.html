<!DOCTYPE html>
<html class="app-html">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>MidiiTuner</title>
    <link rel='stylesheet' href='lib/style.css'>
    <script type="text/javascript" src="lib/svg.js"></script>
    <script type="text/javascript" src="lib/svg.draw.js"></script>
    <script type="text/javascript" src="lib/svg.select.js"></script>
    <script type="text/javascript" src="lib/svg.resize.js"></script>
    <script type="text/javascript" src="lib/Tone.js"></script>
    <script type="text/javascript" src="lib/ToneMidi.js"></script>
    <script type="text/javascript" src="lib/StartAudioContext.js"></script>
    <script type="text/javascript" src="lib/animitter.js"></script>
    <script type="text/javascript" src="js/pianoRollClass.js"></script>
    <script type="text/javascript" src="js/parse.js"></script>
    <script type="text/javascript" src="js/browserIndex.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js"></script>


    <script src='lib/jquery.min.js'></script>
    <script src='lib/instruments.js'></script>
    <script src='lib/jsmidgen.js'></script>
    <script src='lib/midi-file-parser.js'></script>
    <script src='lib/midi-converter.js'></script>
    <script src='lib/dropzone.js'></script>
    <script src='lib/MIDI/AudioDetect.js'></script>
    <script src='lib/MIDI/LoadPlugin.js'></script>
    <script src='lib/MIDI/Plugin.js'></script>
    <script src='lib/MIDI/Player.js'></script>
    <script src='lib/MIDI/DOMLoader.XMLHttp.js'></script>
    <script src="lib/MIDI/Base64.js" type="text/javascript"></script>
    <script src="lib/MIDI/base64binary.js" type="text/javascript"></script>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.js"></script>
    <script language="javascript" type="text/javascript" src="https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js"></script>

   
</head>

<body>
    <h2 id="title1"> GrooveTuner: Welcome to the midi precise editor with Torquetuner</h2>

    <!-- tabindex="0" used to make div focusable, allowing for keyboard shortcuts -->
    <div class='toolbar'>
        <button id="connect" onClick="connect()">Connect</button>
        <div class='button' id='midi-upload'>Upload</div>
        <div class='button' id='midi-clear'>Clear</div>
        <button id="openModal">User Info</button>
        <button id="saveButton">Save</button>
    </div>
    <!-- <p id="test">test</p> -->
    <div data-role = 'header'>
        <center>
            <h3 id="midi-info"><br></h3>
        </center>
        <div id="drawing"></div>
        
    </div>

    <script type="text/javascript" src='js/sequencer.js'></script>
    <script type="text/javascript" src="js/serial.js"></script>
    <input type="range" min="0" max="100" value="0" class="slider" id="xlimSlider">
    
    <script src="js/sketch.js"></script>

    <div id="container">
      <div class="pages">
        
        <div class="page one">
          <div id="ff-container">
            <div id="plot-container1" ></div>
            <div id="controls">
              <h3 id="songTitle">Song 1</h3>
              <div id="number-buttons"></div>
              <!-- <button id="add-button">+</button> -->
              <button onclick="slide('next'); pianoRoll.clearAllNotes();">Next</button>
            </div>
          </div>
        </div>

        <div class="page two">
          <div id="ff-container">
            <div id="plot-container2" ></div>
            <div id="controls">
              <h3 id="songTitle">Song 2</h3>
              <div id="number-buttons"></div>
              <!-- <button id="add-button">+</button> -->
              <button onclick="slide('prev'); pianoRoll.clearAllNotes();">Prev</button>
              <button onclick="slide('next'); pianoRoll.clearAllNotes();">Next</button>
              
            </div>
          </div>
        </div>

        <div class="page three">
          <div id="ff-container">
            <div id="plot-container3" ></div>
            <div id="controls">
              <h3 id="songTitle">Song 3</h3>
              <div id="number-buttons"></div>
              <!-- <button id="add-button">+</button> -->
              <button onclick="slide('prev'); pianoRoll.clearAllNotes();">Prev</button>
              <button onclick="slide('next'); pianoRoll.clearAllNotes();">Finish</button>
            </div>
          </div>
        </div>
      </div>
      
    </div>
    
    <div class="container">
        <div class="left-part">
            <div id="btn_container">
                <div class="dropdown">

                    
                    <button class="dropbtn">Haptic Mode</button>
                    <div class="dropdown-content">
                      <h3 id="mode">  the mode of the TorqueTuner</h3>
                      <div class="column">
                        <h3>Constant haptic</h3>
                        <a href="#" id="haps1">Smooth</a> 
                        <!-- <a href="#" id="haps3">Free</a> -->
                        <a href="#" id="haps2">Detent</a>
                      </div>
                      <div class="column">
                        <h3>Dynamic haptic</h3>
                        <a href="#" id="hapd1">Friction</a>
                        <a href="#" id="hapd2">New FF</a>
                      </div>
                    </div>
                </div>
                <button id = "resetAngle">Reset Angle</button>
            </div>
        </div>
        <div class="right-part">
            <div id="sketch-container"></div>
        </div>
      </div>
    
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>User information</h2>
        <form id="userForm">
          <label for="username">User ID:</label>
          <input type="text" id="username" placeholder="Enter ID"required>
          <br><br>
          <!-- <button type="submit">Submit</button> -->
        </form>
      </div>
    </div>

    <div id="myModal2" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Questionare</h2>
        <form id="q">
          <label for="username">User ID:</label>
          <input type="text" id="username" required>
          <br><br>
        </form>
      </div>
    </div>
  
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <script src="js/btnaction.js"></script>
    

</body>

</html>